import{W as ae,x as se,h as ne,O as le,ag as oe,I as ie,ah as F,l as re,V as ce,S as ue,ae as de,j as _e,ai as ve,F as pe,R as fe,C as me,aj as he,ak as P,al as be,am as ye,k as ge}from"./element-plus-BimyLctg.js";import{d as Te,aQ as we,r as d,c as x,o as Ee,an as De,f as u,j as o,Q as a,G as T,K as p,H as s,k as e,u as c,M as _,O as i,J as D,P as B,aj as W,L as ke}from"./vue-vendor-D1tpuXMX.js";import{u as Se,_ as Ie}from"./index-CNq4hTTw.js";import{u as Ne,H as Ce,i as Ae,a as Re,b as Le,c as Oe}from"./echarts-vZLQ6XYL.js";import{aN as Fe}from"./vendor-CPjYCZhe.js";const Pe={class:"wallet-overview"},xe={class:"balance-content"},Be={class:"balance-icon"},We={class:"balance-info"},Ve={class:"balance-value"},ze={class:"balance-change"},Me={class:"balance-content"},Ue={class:"balance-icon"},$e={class:"balance-info"},Ge={class:"balance-value"},He={class:"balance-content"},je={class:"balance-icon"},Ze={class:"balance-info"},Ye={class:"balance-value"},Ke={class:"asset-list"},Qe={class:"asset-info"},qe={class:"asset-icon"},Je=["src","alt"],Xe={class:"asset-details"},et={class:"asset-name"},tt={class:"asset-symbol"},at={class:"asset-balance"},st={class:"asset-value"},nt={class:"asset-percentage"},lt={class:"chart-container"},ot={class:"card-header"},it={class:"transaction-list"},rt={class:"transaction-icon"},ct={class:"transaction-info"},ut={class:"transaction-type"},dt={class:"transaction-time"},_t={class:"transaction-amount"},vt={class:"amount-status"},pt={key:0,class:"empty-transactions"},ft={class:"action-buttons"},mt={class:"tip-content"},ht={key:0},bt={key:1},yt={key:2},gt={key:3},Tt=Te({__name:"WalletOverviewView",setup(wt){Ne([Ae,Re,Le,Oe]);const b=we(),V=Se(),I=d(0),N=d(0),C=d(0),f=d(0),w=d([]),k=d([]),A=d("pending");d(!1);const S=d(null),m=x(()=>V.user),z=x(()=>{var l,t,r;return!((l=m.value)!=null&&l.email_verified)||!((t=m.value)!=null&&t.phone_verified)||!((r=m.value)!=null&&r.mfa_enabled)||A.value!=="approved"}),v=l=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(l),M=l=>{switch(l){case"DEPOSIT":return ye;case"WITHDRAWAL":return be;case"TRANSFER_IN":return P;case"TRANSFER_OUT":return P;default:return F}},U=l=>{switch(l){case"DEPOSIT":case"TRANSFER_IN":return"positive-icon";case"WITHDRAWAL":case"TRANSFER_OUT":return"negative-icon";default:return"neutral-icon"}},$=l=>{switch(l){case"DEPOSIT":return"充值";case"WITHDRAWAL":return"提現";case"TRANSFER_IN":return"轉入";case"TRANSFER_OUT":return"轉出";case"TRADING_BUY":return"買入";case"TRADING_SELL":return"賣出";default:return"交易"}},G=l=>{switch(l){case"COMPLETED":return"success";case"PENDING":return"warning";case"FAILED":return"danger";default:return"info"}},H=l=>{switch(l){case"COMPLETED":return"已完成";case"PENDING":return"處理中";case"FAILED":return"失敗";case"CANCELLED":return"已取消";default:return"未知"}},j=()=>{b.push("/wallet/deposit")},Z=()=>{b.push("/wallet/withdraw")},Y=()=>{b.push("/trading/usdt")},K=()=>{b.push("/wallet/transfer")},Q=()=>{b.push("/wallet/transactions")},q=()=>{w.value.length!==0&&(S.value={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: ${c} ({d}%)"},series:[{name:"資產分佈",type:"pie",radius:["40%","70%"],center:["50%","50%"],data:w.value.map(l=>({value:l.usdValue,name:l.currency,itemStyle:{color:l.color||"#409EFF"}})),emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},label:{show:!1},labelLine:{show:!1}}]})},J=()=>{I.value=12450.68,N.value=11230.45,C.value=1220.23,f.value=156.78,w.value=[{currency:"USDT",name:"Tether",balance:1e4,usdValue:1e4,percentage:80.3,icon:"/icons/usdt.png",color:"#26A17B"},{currency:"USD",name:"US Dollar",balance:2450.68,usdValue:2450.68,percentage:19.7,icon:"/icons/usd.png",color:"#1890FF"}],k.value=[{id:"1",type:"DEPOSIT",amount:1e3,status:"COMPLETED",created_at:"2024-01-15T10:30:00Z"},{id:"2",type:"TRADING_BUY",amount:500,status:"COMPLETED",created_at:"2024-01-14T15:20:00Z"},{id:"3",type:"WITHDRAWAL",amount:200,status:"PENDING",created_at:"2024-01-14T09:15:00Z"},{id:"4",type:"TRADING_SELL",amount:300,status:"COMPLETED",created_at:"2024-01-13T16:45:00Z"}]};return Ee(()=>{J(),q()}),(l,t)=>{const r=ne,h=se,y=ae,R=ce,g=_e,X=ue,ee=de,E=De("router-link"),te=ge;return o(),u("div",Pe,[a(R,{gutter:24,class:"balance-cards"},{default:s(()=>[a(y,{span:8},{default:s(()=>[a(h,{class:"balance-card total-balance",shadow:"hover"},{default:s(()=>[e("div",xe,[e("div",Be,[a(r,null,{default:s(()=>[a(c(le))]),_:1})]),e("div",We,[t[2]||(t[2]=e("div",{class:"balance-label"},"總餘額",-1)),e("div",Ve,[_(" $"+i(v(I.value))+" ",1),t[0]||(t[0]=e("span",{class:"balance-currency"},"USD",-1))]),e("div",ze,[a(r,{class:D(f.value>=0?"positive":"negative")},{default:s(()=>[f.value>=0?(o(),T(c(oe),{key:0})):(o(),T(c(ie),{key:1}))]),_:1},8,["class"]),e("span",{class:D(f.value>=0?"positive":"negative")},i(f.value>=0?"+":"")+i(v(f.value)),3),t[1]||(t[1]=e("span",{class:"change-period"},"24h",-1))])])])]),_:1})]),_:1}),a(y,{span:8},{default:s(()=>[a(h,{class:"balance-card available-balance",shadow:"hover"},{default:s(()=>[e("div",Me,[e("div",Ue,[a(r,null,{default:s(()=>[a(c(F))]),_:1})]),e("div",$e,[t[3]||(t[3]=e("div",{class:"balance-label"},"可用餘額",-1)),e("div",Ge," $"+i(v(N.value)),1),t[4]||(t[4]=e("div",{class:"balance-desc"},"可用於交易和提現",-1))])])]),_:1})]),_:1}),a(y,{span:8},{default:s(()=>[a(h,{class:"balance-card frozen-balance",shadow:"hover"},{default:s(()=>[e("div",He,[e("div",je,[a(r,null,{default:s(()=>[a(c(re))]),_:1})]),e("div",Ze,[t[5]||(t[5]=e("div",{class:"balance-label"},"凍結餘額",-1)),e("div",Ye," $"+i(v(C.value)),1),t[6]||(t[6]=e("div",{class:"balance-desc"},"訂單中或待處理",-1))])])]),_:1})]),_:1})]),_:1}),a(R,{gutter:24},{default:s(()=>[a(y,{span:12},{default:s(()=>[a(h,{class:"asset-distribution",shadow:"never"},{header:s(()=>[...t[7]||(t[7]=[e("h3",null,"資產分佈",-1)])]),default:s(()=>[e("div",Ke,[(o(!0),u(B,null,W(w.value,n=>(o(),u("div",{key:n.currency,class:"asset-item"},[e("div",Qe,[e("div",qe,[e("img",{src:n.icon,alt:n.currency},null,8,Je)]),e("div",Xe,[e("div",et,[_(i(n.name)+" ",1),e("span",tt,i(n.currency),1)]),e("div",at,[_(i(v(n.balance))+" ",1),e("span",st," ≈ $"+i(v(n.usdValue)),1)])])]),e("div",nt,i(n.percentage.toFixed(1))+"% ",1)]))),128))]),e("div",lt,[S.value?(o(),T(c(Ce),{key:0,option:S.value,style:{width:"100%",height:"200px"},autoresize:""},null,8,["option"])):p("",!0)])]),_:1})]),_:1}),a(y,{span:12},{default:s(()=>[a(h,{class:"recent-transactions",shadow:"never"},{header:s(()=>[e("div",ot,[t[9]||(t[9]=e("h3",null,"最近交易",-1)),a(g,{text:"",onClick:Q},{default:s(()=>[t[8]||(t[8]=_(" 查看全部 ",-1)),a(r,null,{default:s(()=>[a(c(ve))]),_:1})]),_:1})])]),default:s(()=>[e("div",it,[(o(!0),u(B,null,W(k.value,n=>(o(),u("div",{key:n.id,class:"transaction-item"},[e("div",rt,[a(r,{class:D(U(n.type))},{default:s(()=>[(o(),T(ke(M(n.type))))]),_:2},1032,["class"])]),e("div",ct,[e("div",ut,i($(n.type)),1),e("div",dt,i(c(Fe)(n.created_at).format("MM-DD HH:mm")),1)]),e("div",_t,[e("div",{class:D(["amount-value",n.type==="DEPOSIT"?"positive":"negative"])},i(n.type==="DEPOSIT"?"+":"-")+"$"+i(v(n.amount)),3),e("div",vt,[a(X,{type:G(n.status),size:"small"},{default:s(()=>[_(i(H(n.status)),1)]),_:2},1032,["type"])])])]))),128)),k.value.length===0?(o(),u("div",pt,[a(ee,{description:"暂无交易记录","image-size":80})])):p("",!0)])]),_:1})]),_:1})]),_:1}),a(h,{class:"quick-actions",shadow:"never"},{header:s(()=>[...t[10]||(t[10]=[e("h3",null,"快速操作",-1)])]),default:s(()=>[e("div",ft,[a(g,{type:"primary",size:"large",onClick:j,class:"action-btn deposit-btn"},{default:s(()=>[a(r,null,{default:s(()=>[a(c(pe))]),_:1}),t[11]||(t[11]=e("span",null,"充值",-1))]),_:1}),a(g,{size:"large",onClick:Z,class:"action-btn withdraw-btn"},{default:s(()=>[a(r,null,{default:s(()=>[a(c(fe))]),_:1}),t[12]||(t[12]=e("span",null,"提現",-1))]),_:1}),a(g,{type:"success",size:"large",onClick:Y,class:"action-btn trading-btn"},{default:s(()=>[a(r,null,{default:s(()=>[a(c(me))]),_:1}),t[13]||(t[13]=e("span",null,"交易",-1))]),_:1}),a(g,{size:"large",onClick:K,class:"action-btn transfer-btn"},{default:s(()=>[a(r,null,{default:s(()=>[a(c(he))]),_:1}),t[14]||(t[14]=e("span",null,"轉帳",-1))]),_:1})])]),_:1}),z.value?(o(),T(te,{key:0,title:"安全提示",type:"warning",closable:!1,class:"security-tip"},{default:s(()=>{var n,L,O;return[e("div",mt,[t[19]||(t[19]=e("p",null,"為了保護您的資產安全，建議您：",-1)),e("ul",null,[(n=m.value)!=null&&n.email_verified?p("",!0):(o(),u("li",ht,[a(E,{to:"/profile/security"},{default:s(()=>[...t[15]||(t[15]=[_("完成郵箱驗證",-1)])]),_:1})])),(L=m.value)!=null&&L.phone_verified?p("",!0):(o(),u("li",bt,[a(E,{to:"/profile/security"},{default:s(()=>[...t[16]||(t[16]=[_("完成手機驗證",-1)])]),_:1})])),(O=m.value)!=null&&O.mfa_enabled?p("",!0):(o(),u("li",yt,[a(E,{to:"/profile/security"},{default:s(()=>[...t[17]||(t[17]=[_("啟用雙因子認證",-1)])]),_:1})])),A.value!=="approved"?(o(),u("li",gt,[a(E,{to:"/kyc/status"},{default:s(()=>[...t[18]||(t[18]=[_("完成KYC身份驗證",-1)])]),_:1})])):p("",!0)])])]}),_:1})):p("",!0)])}}}),Nt=Ie(Tt,[["__scopeId","data-v-5f99ac6d"]]);export{Nt as default};
